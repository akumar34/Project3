<!DOCTYPE html>
<html>
	<head>
		<title>Crime around UIC using leaflet</title>
		<!-- library css -->
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css" />
		<!-- custom css -->
		<link rel="stylesheet" type="text/css" href="css/map.css">
		<!-- js libraries -->
		<script src="http://d3js.org/d3.v3.min.js"></script>
		<script src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js"></script>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
		<script src="js/weather/suncalc.js"></script>
		<script type="text/javascript" src="js/ext-lib/geojson-utils.js"></script>
		<!-- custom js -->
		<script src="js/ClassExtension.js"></script>
		<script type="text/javascript" src="js/ajax/AjaxApp.js"></script>
		<script src="js/map/MapApp.js"></script>
		<script src="js/DataCircles.js"></script>
		<script src="js/weather/USWeatherApp.js"></script>
		<!--sidebar includes-->
		<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="sidebar-v2-gh-pages/css/leaflet-sidebar.min.css" />
		<script src="sidebar-v2-gh-pages/js/leaflet-sidebar.min.js"></script>
		<!--end sidebar includes-->
		<!--leaflet.draw includes-->
		<script src="Leaflet.draw-master/dist/leaflet.draw.js"></script>
		<link rel="stylesheet" href="Leaflet.draw-master/dist/leaflet.draw.css" />
		<!--end leaflet.draw includes-->
		<!--Leaflet Locate control includes-->
		<script src="leaflet-locatecontrol-gh-pages/dist/L.Control.Locate.min.js"></script>
		<link rel="stylesheet" href="leaflet-locatecontrol-gh-pages/dist/L.Control.Locate.min.css" />
		<!--end Leaflet Locate control includes-->
		<script>
			var mapApp;
			var usWeatherApp;
			function init(){
				mapApp = new MapApp;
				d3.json("data/chicagoDist.json", function(data){
					mapApp.init(data);
				});

				// update regularly
				setInterval(function() {mapApp.refresh() }, 60000); 
				
				usWeatherApp = new USWeatherApp;
				usWeatherApp.init(1,"#viz");

				// update regularly
				setInterval(function() {usWeatherApp.updateOutsideTemp(41.88,-87.63) }, 100000); 
			}
		</script>
	</head>
	<body onload="init();">
		
		<!-- <div id="buttons" style="width:400px; height:10%; text-align: center; background: #fff">
			<input name="updateButton4" 
						 type="button" 
						value="Refresh" 
						onclick="mapApp.refreshData()" />
		</div> -->
		<div id="map" ></div>
		<div id="sidebar" class="sidebar collapsed">
			<!-- Nav tabs -->
			<ul class="sidebar-tabs" role="tablist">
			    <li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
			    <li><a href="#profile" role="tab"><i class="fa fa-user"></i></a></li>
			    <li><a href="#messages" role="tab"><i class="fa fa-envelope"></i></a></li>
			    <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
			</ul><!--end nav tabs-->

			<!-- Tab panes -->
	        <div class="sidebar-content active">
	            <div class="sidebar-pane" id="home">
	                <h1>sidebar-v2</h1>

	                <p>A responsive sidebar for mapping libraries like <a href="http://leafletjs.com/">Leaflet</a> or <a href="http://openlayers.org/">OpenLayers</a>.</p>

	                <p class="lorem">TEST TEXT</p>

	                <p class="lorem">TEST TEXT</p>

	                <p class="lorem">TEST TEXT</p>

	                <p class="lorem">TEST TEXT</p>
	            </div>
	            <div class="sidebar-pane" id="profile">
	            	<h1>Team</h1>
	            	<p>Niko Bessinas- Developer</p>
	            	<p>Carlos Ortega- Developer</p>
	            	<p>Abinav Kumar- Developer</p>
	            	<p>Bryan Sphar- Developer</p>
	            </div>
	            <div class="sidebar-pane" id="messages"><h1>Messages</h1></div>
	            <div class="sidebar-pane" id="settings"><h1>Comparison</h1></div>
	        </div><!--tab panes-->
		</div>
		<script>var sidebar = L.control.sidebar('sidebar').addTo(map);</script>
	</body>
</html>